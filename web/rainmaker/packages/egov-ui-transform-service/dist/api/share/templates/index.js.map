{"version":3,"sources":["../../../../src/api/share/templates/index.js"],"names":["kafka","require","templateInterface","shareTemplate","shareContent","payloads","topic","SMSRequest","mobileNumber","message","KeyedMessage","data","JSON","stringify","push","messages"],"mappings":";;;;;;AAAA;;;;;;AACA,IAAIA,QAAQC,QAAQ,YAAR,CAAZ;;AAEA,IAAMC,oBAAkB,SAAlBA,iBAAkB,OAAqC;AAAA,MAAlCC,aAAkC,QAAlCA,aAAkC;AAAA,MAAnBC,YAAmB,QAAnBA,YAAmB;;AAC3D,MAAIC,WAAS,EAAb;AACA,UAAQF,aAAR;AACE,SAAK,kBAAL;AAAyB;AACvB,YAAMG,QAAQ,4BAAd;AACA;AACA,YAAMC,aAAa;AACjBC,wBAAc,mBAAIJ,aAAa,CAAb,CAAJ,EAAqB,IAArB,CADG;AAEjBK,mBAAS;AAFQ,SAAnB;AAIA,YAAMC,eAAeV,MAAMU,YAA3B;AACA,YAAMC,OAAO,IAAID,YAAJ,CAAiB,YAAjB,EAA+BE,KAAKC,SAAL,CAAeN,UAAf,CAA/B,CAAb;AACAF,iBAASS,IAAT,CAAc;AACZR,sBADY;AAEZS,oBAASJ;AAFG,SAAd;AAID;AAdH;AAgBA,SAAON,QAAP;AACD,CAnBD;;kBAqBeH,iB","file":"index.js","sourcesContent":["import get from \"lodash/get\";\nvar kafka = require(\"kafka-node\");\n\nconst templateInterface=({ shareTemplate, shareContent }) => {\n  let payloads=[];\n  switch (shareTemplate) {\n    case \"complaintDetails\": {\n      const topic = \"egov.core.notification.sms\";\n      // const topic = \"SMS\";\n      const SMSRequest = {\n        mobileNumber: get(shareContent[0], \"to\"),\n        message: \"Dear Contractor, please find complaint details\"\n      };\n      const KeyedMessage = kafka.KeyedMessage;\n      const data = new KeyedMessage(\"SMSRequest\", JSON.stringify(SMSRequest));\n      payloads.push({\n        topic,\n        messages:data\n      })\n    }\n  }\n  return payloads;\n};\n\nexport default templateInterface;\n"]}